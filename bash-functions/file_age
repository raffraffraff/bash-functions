# file_age calculates accepts a file as an argument and returns its age in
# seconds.
#
# Requirements:
#  - function 'date_diff'

file_age() {
  local EPOCH
  source date_diff

  if [ -f "$1" ]; then
    EPOCH=$(stat -c '%Y' $1)
    date_diff now ${EPOCH}
  else
    echo "File $1 does not exist" >&2
    return 1
  fi
}
