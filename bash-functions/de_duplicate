# Purpose: 
# Removes duplicate lines from a file without sorting it. By default, it shows
# the first instance of each line. You can override this by passing the --last
# argument.
# 
# Arguments:
# Accepts a file name as an argument, or text via stdin
#
# Examples:
# cat $file | de_duplicate --last
# de_duplicate $file
#
# Requirements:
#  - gawk/nawk

de_duplicate() {

  local FILE
  local LAST

  until [ -z "${1}" ]; do
    case $1 in
      --last)            LAST=true;;
      *)                 FILE=$1;;
    esac
    shift
  done

  if [ "${LAST}" = "true" ]; then
    tac ${FILE} | awk '!x[$0]++' | tac
  else
    awk '!x[$0]++' ${FILE}
  fi
}
